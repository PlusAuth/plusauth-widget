<!DOCTYPE html>
<html lang="en" >
<head >
  <meta charset="UTF-8" >
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">  <title >Title</title >
  <!--  <link rel="stylesheet" href="/plusauth-widget.css" >-->
<!--  <script  src="/dist/plusauth-widget.min.js" type="application/javascript"></script >-->
  <style >
    html, body{
      margin: 0;
      height: 100%;
    }
    .dev-navbar {
      position: absolute;
      left: 0;
      display: flex;
      flex-direction: column;
      z-index: 123213;
    }
    .dev-navbar a {
      display: inline-flex;
      padding: 10px;
      text-align: center;
      border: 1px solid #dedede;
      text-decoration: none;
    }
    #app{
      height: 100%;
    }
  </style >
</head >
<body >
<div class="dev-navbar">
  <a href="/signin" > Login </a >
  <a href="/signup" > Register </a >
  <a href="/verifyEmail" > VerifyEmail </a >
  <a href="/signin/consent" > Consent </a >
  <a href="/updateMissingInformation" > Fill Missing </a >
  <a href="/signin/recovery" > Password Recovery </a >
  <a href="/resetPassword/token" > Password Reset </a >
  <a href="/signin/challenge" > Challenge </a >
  <a href="/signin/challenge/sms" > SMS </a >
  <a href="/signin/challenge/email" > EMAIL </a >
  <a href="/signin/challenge/otp" > OTP </a >
</div>
<div id="app" >

</div>
<script type="module">
  import PlusAuthWidget from '/src/index.ts';
  window.PlusAuth = {
    ui_locales: [
      { name: 'Turkce', value: 'tr'},
      { name: 'English', value: 'en'},
    ],
    client : {
      clientName: "TestApp",
      tosUri: 'https://sometosuri.com',
      policyUri: 'https://somepolicyuri.com',
      logoUri: 'https://api.plusauth.com/assets/images/logo.png',
      social: [
        'google',
        'facebook',
      ]
    },
    features: {
      socialConnections: true
    },
    passwordPolicy: {
      min: 4,
      max: 16,
      upperCase: 2,
      lowerCase: 2,
      number: 1,
      customChars: '$!'
    },
    autoSignIn: false,
    details: {
      phone_number: '+90********23',
      scopes:{
        new: [ "read:a", 'write:subscription', "write:user", "read:user"]
      },
      tenantLoginUrl: 'http://dashboard.plusauth.com',
      email: 'test@plusauth.com',
      fields: [
        {
          name: 'email',
          type: 'text',
          format: 'email'
        }
      ],
      challenges: [
        'sms',
        'email',
        'otp'
      ]
    }
  }
  const auth = new PlusAuthWidget('#app', {
    locale: {
      defaultLocale: 'en',
      dictionary: {
        tr: {
          login: {
            signIn: "Giris yap"
          }
        }
      }
    },
    footer: {
      enabled: true
    },
    modeOptions: {
      login: {
        fields: {
          username: undefined,
          email: {
            type: 'text',
            errors: [],
            label: 'Email',
            attrs: {
              autocomplete: 'username'
            },
          },
        }
      }
    }
  }, window.PlusAuth)

  setTimeout(()=>{
    console.log('changesettings')
    auth.view.modeOptions.login.fields.email.value ='test'
  },2500)
  auth.view.mode = 'login'
</script >
</body >
</html >
